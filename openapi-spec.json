{
  "openapi": "3.0.1",
  "info": {
    "title": "서울 따릉이 시뮬레이션 플랫폼 API",
    "description": "서울 공공자전거 따릉이 시스템을 시뮬레이션하는 RESTful API. 사용자 인증, 대여소 조회, 자전거 대여/반납, 게시판, 고장 신고, 경로 찾기, AI 코스 추천 등의 기능을 제공합니다.",
    "version": "1.0.0",
    "contact": {
      "name": "Seoul Bike Sharing Platform",
      "url": "https://www.figma.com/design/aJfOnTQZwtUneqKjGGYkcj/Simulation-Platform-Design"
    }
  },
  "tags": [
    {
      "name": "auth"
    },
    {
      "name": "stations"
    },
    {
      "name": "rentals"
    },
    {
      "name": "board"
    },
    {
      "name": "repairs"
    },
    {
      "name": "routes"
    },
    {
      "name": "ai"
    },
    {
      "name": "users"
    },
    {
      "name": "admin"
    }
  ],
  "paths": {
    "/auth/login": {
      "post": {
        "summary": "사용자 로그인",
        "deprecated": false,
        "description": "이메일과 비밀번호를 사용하여 로그인합니다. admin@admin.com으로 로그인하면 관리자 권한을 부여받습니다. 성공 시 JWT 토큰과 사용자 정보를 반환합니다.",
        "operationId": "loginUser",
        "tags": [
          "auth"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Login"
              },
              "examples": {}
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "로그인 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Login5"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 실패 - 잘못된 이메일 또는 비밀번호",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/auth/signup": {
      "post": {
        "summary": "회원가입",
        "deprecated": false,
        "description": "새로운 사용자 계정을 생성합니다. 모든 신규 가입자는 일반 사용자(role: user) 권한으로 생성됩니다. 이메일 중복 확인 후 계정을 생성하며, 성공 시 JWT 토큰과 사용자 정보를 반환합니다.",
        "operationId": "signupUser",
        "tags": [
          "auth"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Signup"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "회원가입 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Signup4"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "잘못된 요청 - 필수 필드 누락 또는 형식 오류",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "409": {
            "description": "이메일 중복 - 이미 사용 중인 이메일",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/auth/check-email": {
      "get": {
        "summary": "이메일 중복 확인",
        "deprecated": false,
        "description": "회원가입 시 이메일 중복 여부를 확인합니다. 사용 가능한 이메일인 경우 available: true를 반환합니다.",
        "operationId": "checkEmailAvailability",
        "tags": [
          "auth"
        ],
        "parameters": [
          {
            "name": "email",
            "in": "query",
            "description": "확인할 이메일 주소",
            "required": true,
            "schema": {
              "type": "string",
              "format": "email",
              "example": "user@example.com"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "이메일 확인 완료",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/EmailCheck"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/stations": {
      "get": {
        "summary": "대여소 목록 조회",
        "deprecated": false,
        "description": "전체 대여소 목록을 조회합니다. 각 대여소의 위치, 주소, 현재 자전거 수, 운영 상태 등을 포함합니다. 필터링 및 검색 기능을 지원합니다.",
        "operationId": "getAllStations",
        "tags": [
          "stations"
        ],
        "parameters": [
          {
            "name": "district",
            "in": "query",
            "description": "서울시 구 단위 필터 (예: 강남구, 서초구)",
            "required": false,
            "schema": {
              "type": "string",
              "example": "강남구"
            }
          },
          {
            "name": "status",
            "in": "query",
            "description": "대여소 운영 상태 필터",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "active",
                "inactive"
              ],
              "example": "active"
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "대여소명 또는 주소 검색어",
            "required": false,
            "schema": {
              "type": "string",
              "example": "강남역"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "대여소 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/StationList"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/stations/status": {
      "get": {
        "summary": "대여소 실시간 현황 갱신",
        "deprecated": false,
        "description": "모든 대여소의 실시간 자전거 수와 운영 상태를 조회합니다. 클라이언트의 자동 새로고침 기능에서 사용됩니다.",
        "operationId": "getStationsStatus",
        "tags": [
          "stations"
        ],
        "parameters": [],
        "responses": {
          "200": {
            "description": "실시간 현황 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/StatusList"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/stations/nearest": {
      "get": {
        "summary": "가장 가까운 대여소 찾기",
        "deprecated": false,
        "description": "주어진 좌표로부터 가장 가까운 대여소를 찾습니다. Haversine 공식을 사용하여 직선 거리를 계산합니다.",
        "operationId": "getNearestStation",
        "tags": [
          "stations"
        ],
        "parameters": [
          {
            "name": "lat",
            "in": "query",
            "description": "위도 (latitude)",
            "required": true,
            "schema": {
              "type": "number",
              "format": "double",
              "example": 37.4979
            }
          },
          {
            "name": "lon",
            "in": "query",
            "description": "경도 (longitude)",
            "required": true,
            "schema": {
              "type": "number",
              "format": "double",
              "example": 127.0276
            }
          }
        ],
        "responses": {
          "200": {
            "description": "가장 가까운 대여소 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Nearest"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/rentals": {
      "post": {
        "summary": "자전거 대여",
        "deprecated": false,
        "description": "지정된 대여소에서 자전거를 대여합니다. 사용자는 한 번에 하나의 자전거만 대여할 수 있습니다. 대여소에 자전거가 없거나 이미 대여 중인 경우 실패합니다. 관리자는 대여할 수 없습니다.",
        "operationId": "createRental",
        "tags": [
          "rentals"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Create"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "대여 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Rental"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "대여 불가 - 이미 대여 중이거나 자전거 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자는 대여할 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/rentals/{rentalId}/return": {
      "put": {
        "summary": "자전거 반납",
        "deprecated": false,
        "description": "대여한 자전거를 지정된 대여소에 반납합니다. 반납 시 이용 시간과 이동 거리가 자동으로 계산됩니다. 반납 정보는 사용자의 대여 이력에 저장됩니다.",
        "operationId": "returnRental",
        "tags": [
          "rentals"
        ],
        "parameters": [
          {
            "name": "rentalId",
            "in": "path",
            "description": "대여 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "pattern": "^R-[0-9]+$",
              "example": "R-1699999999999"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Return"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "반납 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/RentalReturn"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "반납 불가 - 대여 중인 자전거 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "대여 기록을 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/users/{userId}/rentals": {
      "get": {
        "summary": "사용자 대여 이력 조회",
        "deprecated": false,
        "description": "특정 사용자의 대여 이력을 조회합니다. 페이지네이션을 지원하며, 최신 대여 순으로 정렬됩니다. 각 대여 기록에는 출발/도착 대여소, 이용 시간, 이동 거리가 포함됩니다.",
        "operationId": "getUserRentals",
        "tags": [
          "rentals"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "example": "1"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "페이지 번호 (1부터 시작)",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "example": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "페이지당 항목 수",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 10,
              "example": 10
            }
          }
        ],
        "responses": {
          "200": {
            "description": "대여 이력 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UserList"
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        }
                      },
                      "required": [
                        "data",
                        "pagination"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "사용자를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/board/posts": {
      "get": {
        "summary": "게시글 목록 조회",
        "deprecated": false,
        "description": "커뮤니티 게시판의 게시글 목록을 조회합니다. 카테고리별 필터링, 검색, 페이지네이션을 지원합니다. 공지사항(isPinned: true)은 상단에 고정됩니다.",
        "operationId": "getAllPosts",
        "tags": [
          "board"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "페이지 번호",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "example": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "페이지당 항목 수",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "제목 또는 내용 검색어",
            "required": false,
            "schema": {
              "type": "string",
              "example": "따릉이"
            }
          },
          {
            "name": "category",
            "in": "query",
            "description": "게시글 카테고리 필터",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "notice",
                "info",
                "question",
                "free"
              ],
              "example": "info"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "게시글 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PostList"
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        }
                      },
                      "required": [
                        "data",
                        "pagination"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "post": {
        "summary": "게시글 작성",
        "deprecated": false,
        "description": "새로운 게시글을 작성합니다. 로그인한 사용자만 작성할 수 있습니다. 작성자 정보는 JWT 토큰에서 자동으로 추출됩니다.",
        "operationId": "createPost",
        "tags": [
          "board"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Create2"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "게시글 작성 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Post"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "잘못된 요청 - 필수 필드 누락",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/board/posts/{postId}": {
      "get": {
        "summary": "게시글 상세 조회",
        "deprecated": false,
        "description": "특정 게시글의 상세 정보를 조회합니다. 조회 시 조회수(views)가 자동으로 1 증가합니다.",
        "operationId": "getPostById",
        "tags": [
          "board"
        ],
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "description": "게시글 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "pattern": "^P-[0-9]+$",
              "example": "P-1699999999999"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "게시글 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/PostDetail"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "게시글을 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      },
      "put": {
        "summary": "게시글 수정",
        "deprecated": false,
        "description": "기존 게시글을 수정합니다. 작성자 본인만 수정할 수 있습니다.",
        "operationId": "updatePost",
        "tags": [
          "board"
        ],
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "description": "게시글 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "pattern": "^P-[0-9]+$",
              "example": "P-1699999999999"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Update1"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "게시글 수정 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Post"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 작성자만 수정 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "게시글을 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      },
      "delete": {
        "summary": "게시글 삭제",
        "deprecated": false,
        "description": "게시글을 삭제합니다. 작성자 본인 또는 관리자만 삭제할 수 있습니다.",
        "operationId": "deletePost",
        "tags": [
          "board"
        ],
        "parameters": [
          {
            "name": "postId",
            "in": "path",
            "description": "게시글 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "pattern": "^P-[0-9]+$",
              "example": "P-1699999999999"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "게시글 삭제 성공",
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 작성자 또는 관리자만 삭제 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "게시글을 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/repairs/my": {
      "get": {
        "summary": "내 신고 내역 조회",
        "deprecated": false,
        "description": "현재 로그인한 사용자가 신고한 고장 내역을 조회합니다. 상태별 필터링을 지원합니다.",
        "operationId": "getMyRepairs",
        "tags": [
          "repairs"
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "신고 상태 필터",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in-progress",
                "completed"
              ],
              "example": "pending"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "신고 내역 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/RepairList"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/repairs": {
      "post": {
        "summary": "고장 신고 등록",
        "deprecated": false,
        "description": "자전거 또는 대여소의 고장을 신고합니다. 신고 유형(자전거/대여소), 카테고리(브레이크, 타이어 등), 상세 설명을 포함해야 합니다. 사진 첨부는 선택사항입니다.",
        "operationId": "createRepair",
        "tags": [
          "repairs"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Create3"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "고장 신고 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Repair"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "잘못된 요청 - 필수 필드 누락",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/repairs/{repairId}": {
      "get": {
        "summary": "신고 상세 조회",
        "deprecated": false,
        "description": "특정 고장 신고의 상세 정보를 조회합니다. 처리 상태, 관리자 메모 등을 포함합니다.",
        "operationId": "getRepairById",
        "tags": [
          "repairs"
        ],
        "parameters": [
          {
            "name": "repairId",
            "in": "path",
            "description": "신고 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "pattern": "^REP-[0-9]+$",
              "example": "REP-1699999999999"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "신고 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/RepairDetail"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "신고를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/geocode": {
      "get": {
        "summary": "주소를 좌표로 변환",
        "deprecated": false,
        "description": "주소 문자열을 위도/경도 좌표로 변환합니다. 현재는 해시 기반 모의 지오코딩을 사용합니다.",
        "operationId": "geocodeAddress",
        "tags": [
          "routes"
        ],
        "parameters": [
          {
            "name": "address",
            "in": "query",
            "description": "변환할 주소",
            "required": true,
            "schema": {
              "type": "string",
              "example": "서울특별시 강남구 테헤란로 152"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "좌표 변환 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Coordinates"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "잘못된 주소",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/routes/calculate": {
      "post": {
        "summary": "최적 경로 계산",
        "deprecated": false,
        "description": "출발지와 목적지 좌표를 기반으로 자전거 이용 최적 경로를 계산합니다. Haversine 공식을 사용하여 거리를 계산하고, 가장 가까운 대여소와 반납 대여소를 추천합니다.",
        "operationId": "calculateRoute",
        "tags": [
          "routes"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Calculate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "경로 계산 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/RouteInfo"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "잘못된 좌표",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/ai/recommend-course": {
      "post": {
        "summary": "AI 코스 추천",
        "deprecated": false,
        "description": "사용자의 자연어 요청을 분석하여 적합한 자전거 코스를 추천합니다. 난이도, 소요 시간, 거리, 칼로리 소모량, 주요 경유지 등을 포함합니다. 현재는 키워드 기반 모의 AI를 사용합니다.",
        "operationId": "recommendCourse",
        "tags": [
          "ai"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RecommendCourse"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "코스 추천 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/CourseInfo"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": []
      }
    },
    "/users/{userId}": {
      "get": {
        "summary": "사용자 정보 조회",
        "deprecated": false,
        "description": "특정 사용자의 프로필 정보를 조회합니다.",
        "operationId": "getUserById",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "example": "1"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "사용자 정보 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "사용자를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      },
      "put": {
        "summary": "사용자 정보 수정",
        "deprecated": false,
        "description": "사용자의 프로필 정보를 수정합니다. 본인 또는 관리자만 수정할 수 있습니다.",
        "operationId": "updateUser",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "example": "1"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/Update"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "사용자 정보 수정 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "사용자를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/users/{userId}/password": {
      "put": {
        "summary": "비밀번호 변경",
        "deprecated": false,
        "description": "사용자의 비밀번호를 변경합니다. 현재 비밀번호 확인이 필요합니다.",
        "operationId": "changePassword",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "example": "1"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ChangePassword"
              }
            }
          },
          "required": true
        },
        "responses": {
          "204": {
            "description": "비밀번호 변경 성공",
            "headers": {}
          },
          "400": {
            "description": "잘못된 요청 - 현재 비밀번호 불일치",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/users/{userId}/statistics": {
      "get": {
        "summary": "사용자 통계 조회",
        "deprecated": false,
        "description": "사용자의 자전거 이용 통계를 조회합니다. 총 대여 횟수, 총 이동 거리, 총 이용 시간, 평균값 등을 포함합니다.",
        "operationId": "getUserStatistics",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "example": "1"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "통계 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/UserStatistics"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "사용자를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/admin/statistics": {
      "get": {
        "summary": "전체 시스템 통계 조회",
        "deprecated": false,
        "description": "관리자 전용. 전체 시스템의 통계를 조회합니다. 총 사용자 수, 총 대여소 수, 총 자전거 수, 일일 대여 현황 등을 포함합니다.",
        "operationId": "getAdminStatistics",
        "tags": [
          "admin"
        ],
        "parameters": [
          {
            "name": "startDate",
            "in": "query",
            "description": "통계 시작 날짜",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2024-01-01"
            }
          },
          {
            "name": "endDate",
            "in": "query",
            "description": "통계 종료 날짜",
            "required": false,
            "schema": {
              "type": "string",
              "format": "date",
              "example": "2024-12-31"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "통계 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/AdminStatistics"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자만 접근 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/admin/users": {
      "get": {
        "summary": "회원 목록 조회",
        "deprecated": false,
        "description": "관리자 전용. 전체 회원 목록을 조회합니다. 검색 및 페이지네이션을 지원합니다.",
        "operationId": "getAllUsersAdmin",
        "tags": [
          "admin"
        ],
        "parameters": [
          {
            "name": "page",
            "in": "query",
            "description": "페이지 번호",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "example": 1
            }
          },
          {
            "name": "limit",
            "in": "query",
            "description": "페이지당 항목 수",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "maximum": 100,
              "default": 20,
              "example": 20
            }
          },
          {
            "name": "search",
            "in": "query",
            "description": "이름 또는 이메일 검색어",
            "required": false,
            "schema": {
              "type": "string",
              "example": "홍길동"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "회원 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/AdminUsersList"
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        }
                      },
                      "required": [
                        "data",
                        "pagination"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자만 접근 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/admin/users/{userId}/status": {
      "put": {
        "summary": "회원 상태 변경",
        "deprecated": false,
        "description": "관리자 전용. 회원의 상태를 변경합니다. 활성화 또는 차단 상태로 설정할 수 있습니다.",
        "operationId": "updateUserStatus",
        "tags": [
          "admin"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "example": "1"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateUserStatus"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "상태 변경 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/User"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자만 접근 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "사용자를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/admin/users/{userId}": {
      "delete": {
        "summary": "회원 삭제",
        "deprecated": false,
        "description": "관리자 전용. 회원을 완전히 삭제합니다.",
        "operationId": "deleteUserAdmin",
        "tags": [
          "admin"
        ],
        "parameters": [
          {
            "name": "userId",
            "in": "path",
            "description": "사용자 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "example": "1"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "회원 삭제 성공",
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자만 접근 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "사용자를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/admin/stations": {
      "post": {
        "summary": "대여소 추가",
        "deprecated": false,
        "description": "관리자 전용. 새로운 대여소를 추가합니다.",
        "operationId": "createStation",
        "tags": [
          "admin"
        ],
        "parameters": [],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateStation"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "대여소 추가 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Station"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "400": {
            "description": "잘못된 요청",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자만 접근 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/admin/stations/{stationId}": {
      "put": {
        "summary": "대여소 정보 수정",
        "deprecated": false,
        "description": "관리자 전용. 대여소 정보를 수정합니다.",
        "operationId": "updateStation",
        "tags": [
          "admin"
        ],
        "parameters": [
          {
            "name": "stationId",
            "in": "path",
            "description": "대여소 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "example": "ST-001"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateStation"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "대여소 수정 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Station"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자만 접근 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "대여소를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      },
      "delete": {
        "summary": "대여소 삭제",
        "deprecated": false,
        "description": "관리자 전용. 대여소를 삭제합니다.",
        "operationId": "deleteStation",
        "tags": [
          "admin"
        ],
        "parameters": [
          {
            "name": "stationId",
            "in": "path",
            "description": "대여소 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "example": "ST-001"
            }
          }
        ],
        "responses": {
          "204": {
            "description": "대여소 삭제 성공",
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자만 접근 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "대여소를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/admin/repairs": {
      "get": {
        "summary": "고장 신고 목록 조회",
        "deprecated": false,
        "description": "관리자 전용. 전체 고장 신고 목록을 조회합니다. 상태별 필터링 및 페이지네이션을 지원합니다.",
        "operationId": "getAllRepairsAdmin",
        "tags": [
          "admin"
        ],
        "parameters": [
          {
            "name": "status",
            "in": "query",
            "description": "신고 상태 필터",
            "required": false,
            "schema": {
              "type": "string",
              "enum": [
                "pending",
                "in-progress",
                "completed"
              ],
              "example": "pending"
            }
          },
          {
            "name": "page",
            "in": "query",
            "description": "페이지 번호",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "default": 1,
              "example": 1
            }
          }
        ],
        "responses": {
          "200": {
            "description": "신고 목록 조회 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/AdminRepairsList"
                        },
                        "pagination": {
                          "$ref": "#/components/schemas/Pagination"
                        }
                      },
                      "required": [
                        "data",
                        "pagination"
                      ]
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자만 접근 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/admin/repairs/{repairId}": {
      "put": {
        "summary": "고장 처리 상태 업데이트",
        "deprecated": false,
        "description": "관리자 전용. 고장 신고의 처리 상태를 업데이트합니다. 관리자 메모를 추가할 수 있습니다.",
        "operationId": "updateRepairStatus",
        "tags": [
          "admin"
        ],
        "parameters": [
          {
            "name": "repairId",
            "in": "path",
            "description": "신고 ID",
            "required": true,
            "example": "",
            "schema": {
              "type": "string",
              "pattern": "^REP-[0-9]+$",
              "example": "REP-1699999999999"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateRepairStatus"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "상태 업데이트 성공",
            "content": {
              "application/json": {
                "schema": {
                  "allOf": [
                    {
                      "$ref": "#/components/schemas/Success"
                    },
                    {
                      "type": "object",
                      "properties": {
                        "data": {
                          "$ref": "#/components/schemas/Repair"
                        }
                      }
                    }
                  ]
                }
              }
            },
            "headers": {}
          },
          "401": {
            "description": "인증 필요",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "403": {
            "description": "권한 없음 - 관리자만 접근 가능",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          },
          "404": {
            "description": "신고를 찾을 수 없음",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/Error"
                }
              }
            },
            "headers": {}
          }
        },
        "security": [
          {
            "BearerAuth": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "Success": {
        "type": "object",
        "required": [
          "status",
          "data"
        ],
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "success"
            ],
            "description": "응답 상태"
          },
          "data": {
            "type": "object",
            "description": "응답 데이터 (구체적인 타입은 각 엔드포인트별로 정의됨)",
            "properties": {}
          }
        }
      },
      "Error": {
        "type": "object",
        "required": [
          "status",
          "error",
          "metadata"
        ],
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "error"
            ],
            "example": "error"
          },
          "error": {
            "type": "object",
            "required": [
              "code",
              "message"
            ],
            "properties": {
              "code": {
                "type": "string",
                "description": "에러 코드",
                "example": "INVALID_CREDENTIALS"
              },
              "message": {
                "type": "string",
                "description": "에러 메시지",
                "example": "이메일 또는 비밀번호가 올바르지 않습니다."
              },
              "details": {
                "type": "object",
                "description": "추가 에러 정보",
                "properties": {},
                "example": {
                  "field": "password",
                  "reason": "incorrect"
                }
              }
            }
          },
          "metadata": {}
        }
      },
      "Login": {
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "사용자 이메일",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "format": "password",
            "description": "비밀번호",
            "example": "password123"
          }
        }
      },
      "Signup": {
        "type": "object",
        "required": [
          "email",
          "password",
          "name",
          "phone"
        ],
        "properties": {
          "email": {
            "type": "string",
            "format": "email",
            "description": "이메일 주소",
            "example": "newuser@example.com"
          },
          "password": {
            "type": "string",
            "format": "password",
            "minLength": 8,
            "description": "비밀번호 (8자 이상)",
            "example": "password123"
          },
          "name": {
            "type": "string",
            "description": "이름",
            "example": "홍길동"
          },
          "phone": {
            "type": "string",
            "pattern": "^010-[0-9]{4}-[0-9]{4}$",
            "description": "전화번호 (형식: 010-XXXX-XXXX)",
            "example": "010-1234-5678"
          }
        }
      },
      "UpdateUserStatus": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "active",
              "blocked"
            ],
            "description": "사용자 상태",
            "example": "active"
          }
        }
      },
      "CreateStation": {
        "type": "object",
        "required": [
          "name",
          "address",
          "latitude",
          "longitude",
          "capacity"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "대여소 이름",
            "example": "강남역 1번출구"
          },
          "address": {
            "type": "string",
            "description": "대여소 주소",
            "example": "서울특별시 강남구 강남대로 396"
          },
          "latitude": {
            "type": "number",
            "format": "double",
            "description": "위도",
            "example": 37.4979
          },
          "longitude": {
            "type": "number",
            "format": "double",
            "description": "경도",
            "example": 127.0276
          },
          "capacity": {
            "type": "integer",
            "minimum": 1,
            "description": "최대 수용 대수",
            "example": 20
          }
        }
      },
      "UpdateStation": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "대여소 이름",
            "example": "강남역 1번출구"
          },
          "address": {
            "type": "string",
            "description": "대여소 주소",
            "example": "서울특별시 강남구 강남대로 396"
          },
          "bikeCount": {
            "type": "integer",
            "minimum": 0,
            "description": "현재 자전거 수",
            "example": 15
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "description": "운영 상태",
            "example": "active"
          }
        }
      },
      "UpdateRepairStatus": {
        "type": "object",
        "required": [
          "status"
        ],
        "properties": {
          "status": {
            "type": "string",
            "enum": [
              "pending",
              "in-progress",
              "completed"
            ],
            "description": "처리 상태",
            "example": "in-progress"
          },
          "adminNote": {
            "type": "string",
            "description": "관리자 메모",
            "example": "부품 발주 중"
          }
        }
      },
      "ChangePassword": {
        "type": "object",
        "required": [
          "currentPassword",
          "newPassword"
        ],
        "properties": {
          "currentPassword": {
            "type": "string",
            "format": "password",
            "description": "현재 비밀번호",
            "example": "oldpassword123"
          },
          "newPassword": {
            "type": "string",
            "format": "password",
            "minLength": 8,
            "description": "새 비밀번호 (8자 이상)",
            "example": "newpassword123"
          }
        }
      },
      "Update": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "이름",
            "example": "홍길동"
          },
          "phone": {
            "type": "string",
            "pattern": "^010-[0-9]{4}-[0-9]{4}$",
            "description": "전화번호",
            "example": "010-1234-5678"
          },
          "email": {
            "type": "string",
            "format": "email",
            "description": "이메일",
            "example": "newemail@example.com"
          }
        }
      },
      "Create": {
        "type": "object",
        "required": [
          "stationId"
        ],
        "properties": {
          "stationId": {
            "type": "string",
            "pattern": "^ST-[0-9]{3}$",
            "description": "대여소 ID",
            "example": "ST-001"
          }
        }
      },
      "Return": {
        "type": "object",
        "required": [
          "endStationId"
        ],
        "properties": {
          "endStationId": {
            "type": "string",
            "pattern": "^ST-[0-9]{3}$",
            "description": "반납 대여소 ID",
            "example": "ST-015"
          }
        }
      },
      "Update1": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string",
            "description": "게시글 제목",
            "example": "한강 야간 라이딩 코스 추천 (수정)"
          },
          "content": {
            "type": "string",
            "description": "게시글 내용",
            "example": "수정된 내용..."
          }
        }
      },
      "Create2": {
        "type": "object",
        "required": [
          "title",
          "content"
        ],
        "properties": {
          "title": {
            "type": "string",
            "description": "게시글 제목",
            "example": "한강 야간 라이딩 코스 추천"
          },
          "content": {
            "type": "string",
            "description": "게시글 내용",
            "example": "반포한강공원에서 여의도까지 야간 라이딩 코스를 추천합니다..."
          },
          "category": {
            "type": "string",
            "enum": [
              "notice",
              "info",
              "question",
              "free"
            ],
            "description": "게시글 카테고리",
            "example": "info"
          }
        }
      },
      "Create3": {
        "type": "object",
        "required": [
          "type",
          "category",
          "description"
        ],
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "bike",
              "station"
            ],
            "description": "신고 대상",
            "example": "bike"
          },
          "bikeId": {
            "type": "string",
            "pattern": "^SPB-[0-9]{5}$",
            "description": "자전거 ID (type이 bike일 때 필수)",
            "example": "SPB-12345"
          },
          "stationId": {
            "type": "string",
            "pattern": "^ST-[0-9]{3}$",
            "description": "대여소 ID (type이 station일 때 필수)",
            "example": "ST-001"
          },
          "category": {
            "type": "string",
            "enum": [
              "brake",
              "tire",
              "chain",
              "light",
              "seat",
              "bell",
              "other"
            ],
            "description": "고장 카테고리",
            "example": "brake"
          },
          "description": {
            "type": "string",
            "description": "고장 상세 설명",
            "example": "브레이크가 제대로 작동하지 않습니다."
          },
          "photos": {
            "type": "array",
            "items": {
              "type": "string",
              "format": "uri"
            },
            "description": "첨부 사진 URL 목록",
            "example": [
              "https://example.com/photo1.jpg"
            ]
          }
        }
      },
      "Calculate": {
        "type": "object",
        "required": [
          "startLat",
          "startLon",
          "endLat",
          "endLon"
        ],
        "properties": {
          "startLat": {
            "type": "number",
            "format": "double",
            "description": "출발지 위도",
            "example": 37.4979
          },
          "startLon": {
            "type": "number",
            "format": "double",
            "description": "출발지 경도",
            "example": 127.0276
          },
          "endLat": {
            "type": "number",
            "format": "double",
            "description": "목적지 위도",
            "example": 37.5219
          },
          "endLon": {
            "type": "number",
            "format": "double",
            "description": "목적지 경도",
            "example": 126.9245
          }
        }
      },
      "RecommendCourse": {
        "type": "object",
        "required": [
          "prompt"
        ],
        "properties": {
          "prompt": {
            "type": "string",
            "description": "자연어 코스 추천 요청",
            "example": "한강에서 야경을 보며 라이딩하고 싶어요"
          },
          "preferences": {
            "type": "object",
            "properties": {
              "difficulty": {
                "type": "string",
                "enum": [
                  "최하",
                  "하",
                  "중",
                  "상",
                  "최상"
                ],
                "description": "희망 난이도",
                "example": "하"
              },
              "duration": {
                "type": "integer",
                "description": "희망 소요 시간 (분)",
                "example": 60
              },
              "distance": {
                "type": "number",
                "format": "float",
                "description": "희망 거리 (km)",
                "example": 10
              }
            }
          }
        }
      },
      "Signup4": {
        "type": "object",
        "required": [
          "user",
          "token"
        ],
        "properties": {
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "token": {
            "type": "string",
            "description": "JWT 인증 토큰",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        }
      },
      "Login5": {
        "type": "object",
        "required": [
          "user",
          "token"
        ],
        "properties": {
          "user": {
            "$ref": "#/components/schemas/User"
          },
          "token": {
            "type": "string",
            "description": "JWT 인증 토큰",
            "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
          }
        }
      },
      "StatusList": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/StationStatus"
        }
      },
      "Nearest": {
        "type": "object",
        "required": [
          "station",
          "distance"
        ],
        "properties": {
          "station": {
            "$ref": "#/components/schemas/Station"
          },
          "distance": {
            "type": "number",
            "format": "float",
            "description": "거리 (km)",
            "example": 0.5
          }
        }
      },
      "Station": {
        "$ref": "#/components/schemas/Station"
      },
      "StationList": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Station"
        }
      },
      "StationStatus": {
        "type": "object",
        "required": [
          "id",
          "bikeCount",
          "status"
        ],
        "properties": {
          "id": {
            "type": "string",
            "example": "ST-001"
          },
          "bikeCount": {
            "type": "integer",
            "example": 12
          },
          "status": {
            "type": "string",
            "enum": [
              "active",
              "inactive"
            ],
            "example": "active"
          }
        }
      },
      "Post": {
        "$ref": "#/components/schemas/Post"
      },
      "PostDetail": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Post"
          },
          {
            "type": "object",
            "properties": {
              "authorInfo": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "example": "1"
                  },
                  "name": {
                    "type": "string",
                    "example": "김철수"
                  }
                }
              }
            }
          }
        ]
      },
      "PostList": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Post"
        }
      },
      "RentalCreate": {
        "$ref": "#/components/schemas/Rental"
      },
      "UserList": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Rental"
        }
      },
      "RentalReturn": {
        "type": "object",
        "required": [
          "rental",
          "summary"
        ],
        "properties": {
          "rental": {
            "$ref": "#/components/schemas/Rental"
          },
          "summary": {
            "type": "object",
            "required": [
              "startStation",
              "endStation",
              "duration",
              "distance"
            ],
            "properties": {
              "startStation": {
                "type": "string",
                "example": "강남역 1번출구"
              },
              "endStation": {
                "type": "string",
                "example": "여의도한강공원"
              },
              "duration": {
                "type": "integer",
                "description": "이용 시간 (분)",
                "example": 45
              },
              "distance": {
                "type": "number",
                "format": "float",
                "description": "이동 거리 (km)",
                "example": 5.2
              }
            }
          }
        }
      },
      "EmailCheck": {
        "type": "object",
        "required": [
          "available"
        ],
        "properties": {
          "available": {
            "type": "boolean",
            "description": "이메일 사용 가능 여부",
            "example": true
          }
        }
      },
      "Repair": {
        "$ref": "#/components/schemas/Repair"
      },
      "RepairDetail": {
        "allOf": [
          {
            "$ref": "#/components/schemas/Repair"
          },
          {
            "type": "object",
            "properties": {
              "reporterInfo": {
                "type": "object",
                "properties": {
                  "id": {
                    "type": "string",
                    "example": "1"
                  },
                  "name": {
                    "type": "string",
                    "example": "홍길동"
                  },
                  "phone": {
                    "type": "string",
                    "example": "010-1234-5678"
                  }
                }
              }
            }
          }
        ]
      },
      "RepairList": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Repair"
        }
      },
      "AdminStatistics": {
        "type": "object",
        "required": [
          "totalUsers",
          "totalStations",
          "totalBikes",
          "todayRentals",
          "activeRentals"
        ],
        "properties": {
          "totalUsers": {
            "type": "integer",
            "description": "총 사용자 수",
            "example": 5420
          },
          "totalStations": {
            "type": "integer",
            "description": "총 대여소 수",
            "example": 150
          },
          "totalBikes": {
            "type": "integer",
            "description": "총 자전거 수",
            "example": 3000
          },
          "todayRentals": {
            "type": "integer",
            "description": "오늘 대여 건수",
            "example": 847
          },
          "activeRentals": {
            "type": "integer",
            "description": "현재 대여 중인 자전거 수",
            "example": 234
          }
        }
      },
      "AdminUsersList": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/User"
        }
      },
      "AdminRepairsList": {
        "type": "array",
        "items": {
          "$ref": "#/components/schemas/Repair"
        }
      },
      "User": {
        "$ref": "#/components/schemas/User"
      },
      "UserStatistics": {
        "type": "object",
        "required": [
          "totalRentals",
          "totalDistance",
          "totalDuration",
          "averageDistance",
          "averageDuration"
        ],
        "properties": {
          "totalRentals": {
            "type": "integer",
            "description": "총 대여 횟수",
            "example": 42
          },
          "totalDistance": {
            "type": "number",
            "format": "float",
            "description": "총 이동 거리 (km)",
            "example": 215.8
          },
          "totalDuration": {
            "type": "integer",
            "description": "총 이용 시간 (분)",
            "example": 1280
          },
          "averageDistance": {
            "type": "number",
            "format": "float",
            "description": "평균 이동 거리 (km)",
            "example": 5.1
          },
          "averageDuration": {
            "type": "integer",
            "description": "평균 이용 시간 (분)",
            "example": 30
          }
        }
      },
      "Geocode": {
        "$ref": "#/components/schemas/Coordinates"
      },
      "CourseRecommendation": {
        "$ref": "#/components/schemas/CourseInfo"
      },
      "Route": {
        "$ref": "#/components/schemas/RouteInfo"
      },
      "Coordinates": {
        "type": "object",
        "required": [
          "lat",
          "lon"
        ],
        "properties": {
          "lat": {
            "type": "number",
            "format": "double",
            "description": "위도",
            "example": 37.4979
          },
          "lon": {
            "type": "number",
            "format": "double",
            "description": "경도",
            "example": 127.0276
          }
        }
      },
      "Pagination": {
        "type": "object",
        "required": [
          "currentPage",
          "totalPages",
          "totalItems",
          "itemsPerPage",
          "hasNext",
          "hasPrev"
        ],
        "properties": {
          "currentPage": {
            "type": "integer",
            "minimum": 1,
            "description": "현재 페이지 번호",
            "example": 1
          },
          "totalPages": {
            "type": "integer",
            "minimum": 0,
            "description": "전체 페이지 수",
            "example": 5
          },
          "totalItems": {
            "type": "integer",
            "minimum": 0,
            "description": "전체 항목 수",
            "example": 100
          },
          "itemsPerPage": {
            "type": "integer",
            "minimum": 1,
            "description": "페이지당 항목 수",
            "example": 20
          },
          "hasNext": {
            "type": "boolean",
            "description": "다음 페이지 존재 여부",
            "example": true
          },
          "hasPrev": {
            "type": "boolean",
            "description": "이전 페이지 존재 여부",
            "example": false
          }
        }
      },
      "Rental": {
        "type": "object",
        "required": [
          "id",
          "userId",
          "bikeId",
          "startStationId",
          "rentalTime",
          "status"
        ],
        "properties": {
          "id": {
            "type": "string",
            "pattern": "^R-[0-9]+$",
            "description": "대여 고유 ID",
            "example": "R-1699999999999"
          },
          "userId": {
            "type": "string",
            "description": "사용자 ID",
            "example": "1"
          },
          "bikeId": {
            "type": "string",
            "pattern": "^SPB-[0-9]{5}$",
            "description": "자전거 ID (Seoul Public Bike)",
            "example": "SPB-12345"
          },
          "startStationId": {
            "type": "string",
            "pattern": "^ST-[0-9]{3}$",
            "description": "출발 대여소 ID",
            "example": "ST-001"
          },
          "endStationId": {
            "type": "string",
            "pattern": "^ST-[0-9]{3}$",
            "description": "도착 대여소 ID (반납 시에만)",
            "example": "ST-015"
          },
          "rentalTime": {
            "type": "string",
            "format": "date-time",
            "description": "대여 시작 시간",
            "example": "2024-11-15T10:00:00Z"
          },
          "returnTime": {
            "type": "string",
            "format": "date-time",
            "description": "반납 시간",
            "example": "2024-11-15T10:45:00Z"
          },
          "duration": {
            "type": "integer",
            "description": "이용 시간 (분 단위)",
            "example": 45
          },
          "distance": {
            "type": "number",
            "format": "float",
            "description": "이동 거리 (km)",
            "example": 5.2
          },
          "status": {
            "type": "string",
            "enum": [
              "rented",
              "returned"
            ],
            "description": "대여 상태 (rented: 대여 중, returned: 반납 완료)",
            "example": "rented"
          }
        }
      },
      "CourseInfo": {
        "type": "object",
        "required": [
          "name",
          "description",
          "duration",
          "calories",
          "difficulty",
          "distance",
          "highlights"
        ],
        "properties": {
          "name": {
            "type": "string",
            "description": "코스 이름",
            "example": "한강 야경 라이딩"
          },
          "description": {
            "type": "string",
            "description": "코스 설명",
            "example": "반포한강공원에서 여의도까지 야경을 즐기며 라이딩하는 코스"
          },
          "duration": {
            "type": "integer",
            "description": "예상 소요 시간 (분)",
            "example": 60
          },
          "calories": {
            "type": "integer",
            "description": "예상 칼로리 소모량 (kcal)",
            "example": 250
          },
          "difficulty": {
            "type": "string",
            "enum": [
              "최하",
              "하",
              "중",
              "상",
              "최상"
            ],
            "description": "난이도",
            "example": "하"
          },
          "distance": {
            "type": "number",
            "format": "float",
            "description": "총 거리 (km)",
            "example": 8.5
          },
          "highlights": {
            "type": "array",
            "items": {
              "type": "string"
            },
            "description": "코스 주요 특징",
            "example": [
              "야경 명소",
              "평탄한 도로",
              "초보자 추천"
            ]
          }
        }
      },
      "RouteInfo": {
        "type": "object",
        "required": [
          "startStation",
          "endStation",
          "distance",
          "duration",
          "walkingDistanceToStart",
          "walkingDistanceFromEnd"
        ],
        "properties": {
          "startStation": {
            "$ref": "#/components/schemas/Station"
          },
          "endStation": {
            "$ref": "#/components/schemas/Station"
          },
          "distance": {
            "type": "number",
            "format": "float",
            "description": "자전거 이동 거리 (km)",
            "example": 5.2
          },
          "duration": {
            "type": "integer",
            "description": "예상 소요 시간 (분)",
            "example": 25
          },
          "walkingDistanceToStart": {
            "type": "number",
            "format": "float",
            "description": "출발지에서 출발 대여소까지 도보 거리 (km)",
            "example": 0.3
          },
          "walkingDistanceFromEnd": {
            "type": "number",
            "format": "float",
            "description": "도착 대여소에서 목적지까지 도보 거리 (km)",
            "example": 0.2
          }
        }
      }
    },
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT 토큰을 사용한 인증. 'Authorization: Bearer {token}' 헤더 형식으로 전송합니다."
      }
    }
  },
  "servers": [],
  "security": []
}